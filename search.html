---
layout: default
title: Search
---

<div class="row" data-pagefind-ignore>
  <h2 class="mt-4 mb-3">Search üîç</h2>
  <p>Search across all blog posts and pages on this site.</p>
  
  <div class="mt-4">
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script>
      window.addEventListener('DOMContentLoaded', (event) => {
        const pagefindUI = new PagefindUI({ 
          element: "#search",
          showSubResults: true,
          showImages: false,
          processResult: (result) => {
            // Exclude homepage, blog listing, and search page from results
            if (result.url === '/') return null;
            if (result.url === '/index.html') return null;
            if (result.url === '/blog.html') return null;
            if (result.url === '/blog/') return null;
            if (result.url === '/search.html') return null;
            if (result.url === '/search/') return null;
            if (result.url && result.url.startsWith('/#')) return null;
            return result;
          }
        });
        
        // Read query parameter from URL and trigger search
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('q');
        const searchInput = document.querySelector('.pagefind-ui__search-input');
        
        if (query && searchInput) {
          searchInput.value = query;
          // Trigger input event to start the search
          searchInput.dispatchEvent(new Event('input', { bubbles: true }));
        }
        
        // Update URL query string as user types
        if (searchInput) {
          searchInput.addEventListener('input', (e) => {
            const newQuery = e.target.value;
            const url = new URL(window.location);
            if (newQuery) {
              url.searchParams.set('q', newQuery);
            } else {
              url.searchParams.delete('q');
            }
            history.replaceState(null, '', url);
          });
        }
      });
    </script>
  </div>
</div>

<style>
  .pagefind-ui {
    --pagefind-ui-scale: 1;
    --pagefind-ui-primary: #6c757d;
    --pagefind-ui-text: #212529;
    --pagefind-ui-background: #ffffff;
    --pagefind-ui-border: #dee2e6;
    --pagefind-ui-tag: #f8f9fa;
    --pagefind-ui-border-width: 1px;
    --pagefind-ui-border-radius: 0.375rem;
    --pagefind-ui-image-border-radius: 0.25rem;
    --pagefind-ui-image-box-ratio: 3 / 2;
    --pagefind-ui-font: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }
  
  .pagefind-ui__search-input {
    font-size: 1rem;
    padding: 0.75rem 1rem;
  }
  
  .pagefind-ui__result-title {
    font-weight: 600;
  }
  
  .pagefind-ui__result-excerpt {
    font-size: 0.95rem;
    line-height: 1.5;
  }
</style>
